{"format_version":"1.1","terraform_version":"1.2.8","planned_values":{"outputs":{"nat_ip_address":{"sensitive":false}},"root_module":{"resources":[{"address":"google_compute_address.nat_ip","mode":"managed","type":"google_compute_address","name":"nat_ip","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"address_type":"EXTERNAL","description":null,"name":"opalscopes-test-nap-ip","network":null,"prefix_length":null,"project":"opalscopes","region":"us-central1","timeouts":null},"sensitive_values":{"users":[]}},{"address":"google_compute_firewall.allow-http","mode":"managed","type":"google_compute_firewall","name":"allow-http","provider_name":"registry.terraform.io/hashicorp/google","schema_version":1,"values":{"allow":[{"ports":["80"],"protocol":"tcp"}],"deny":[],"description":null,"disabled":null,"log_config":[{"metadata":"EXCLUDE_ALL_METADATA"}],"name":"opalscopes-test-fw-allow-http","network":"opalscopes-test-vpc","priority":1000,"source_ranges":null,"source_service_accounts":null,"source_tags":["web"],"target_service_accounts":null,"target_tags":["http"],"timeouts":null},"sensitive_values":{"allow":[{"ports":[false]}],"deny":[],"destination_ranges":[],"log_config":[{}],"source_tags":[false],"target_tags":[false]}},{"address":"google_compute_firewall.allow-https","mode":"managed","type":"google_compute_firewall","name":"allow-https","provider_name":"registry.terraform.io/hashicorp/google","schema_version":1,"values":{"allow":[{"ports":["443"],"protocol":"tcp"}],"deny":[],"description":null,"disabled":null,"log_config":[{"metadata":"EXCLUDE_ALL_METADATA"}],"name":"opalscopes-test-fw-allow-https","network":"opalscopes-test-vpc","priority":1000,"source_ranges":null,"source_service_accounts":null,"source_tags":["web"],"target_service_accounts":null,"target_tags":["https"],"timeouts":null},"sensitive_values":{"allow":[{"ports":[false]}],"deny":[],"destination_ranges":[],"log_config":[{}],"source_tags":[false],"target_tags":[false]}},{"address":"google_compute_firewall.allow-internal","mode":"managed","type":"google_compute_firewall","name":"allow-internal","provider_name":"registry.terraform.io/hashicorp/google","schema_version":1,"values":{"allow":[{"ports":["0-65535"],"protocol":"tcp"},{"ports":["0-65535"],"protocol":"udp"},{"ports":[],"protocol":"icmp"}],"deny":[],"description":null,"disabled":null,"log_config":[],"name":"opalscopes-test-fw-allow-internal","network":"opalscopes-test-vpc","priority":1000,"source_ranges":["10.10.1.0/24"],"source_service_accounts":null,"source_tags":null,"target_service_accounts":null,"target_tags":null,"timeouts":null},"sensitive_values":{"allow":[{"ports":[false]},{"ports":[false]},{"ports":[]}],"deny":[],"destination_ranges":[],"log_config":[],"source_ranges":[false]}},{"address":"google_compute_firewall.allow-rdp","mode":"managed","type":"google_compute_firewall","name":"allow-rdp","provider_name":"registry.terraform.io/hashicorp/google","schema_version":1,"values":{"allow":[{"ports":["3389"],"protocol":"tcp"}],"deny":[],"description":null,"disabled":null,"log_config":[{"metadata":"EXCLUDE_ALL_METADATA"}],"name":"opalscopes-test-fw-allow-rdp","network":"opalscopes-test-vpc","priority":1000,"source_ranges":null,"source_service_accounts":null,"source_tags":["web"],"target_service_accounts":null,"target_tags":["rdp"],"timeouts":null},"sensitive_values":{"allow":[{"ports":[false]}],"deny":[],"destination_ranges":[],"log_config":[{}],"source_tags":[false],"target_tags":[false]}},{"address":"google_compute_firewall.allow-ssh","mode":"managed","type":"google_compute_firewall","name":"allow-ssh","provider_name":"registry.terraform.io/hashicorp/google","schema_version":1,"values":{"allow":[{"ports":["22"],"protocol":"tcp"}],"deny":[],"description":null,"disabled":null,"log_config":[{"metadata":"EXCLUDE_ALL_METADATA"}],"name":"opalscopes-test-fw-allow-ssh","network":"opalscopes-test-vpc","priority":1000,"source_ranges":null,"source_service_accounts":null,"source_tags":["web"],"target_service_accounts":null,"target_tags":["ssh"],"timeouts":null},"sensitive_values":{"allow":[{"ports":[false]}],"deny":[],"destination_ranges":[],"log_config":[{}],"source_tags":[false],"target_tags":[false]}},{"address":"google_compute_network.vpc","mode":"managed","type":"google_compute_network","name":"vpc","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"auto_create_subnetworks":false,"delete_default_routes_on_create":false,"description":null,"enable_ula_internal_ipv6":null,"name":"opalscopes-test-vpc","routing_mode":"GLOBAL","timeouts":null},"sensitive_values":{}},{"address":"google_compute_router.nat-router","mode":"managed","type":"google_compute_router","name":"nat-router","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"bgp":[],"description":null,"encrypted_interconnect_router":null,"name":"opalscopes-test-nat-router","network":"opalscopes-test-vpc","timeouts":null},"sensitive_values":{"bgp":[]}},{"address":"google_compute_router_nat.nat-gateway","mode":"managed","type":"google_compute_router_nat","name":"nat-gateway","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"drain_nat_ips":null,"enable_endpoint_independent_mapping":true,"icmp_idle_timeout_sec":30,"log_config":[],"max_ports_per_vm":null,"min_ports_per_vm":null,"name":"opalscopes-nat-gateway","nat_ip_allocate_option":"MANUAL_ONLY","router":"opalscopes-test-nat-router","source_subnetwork_ip_ranges_to_nat":"ALL_SUBNETWORKS_ALL_IP_RANGES","subnetwork":[],"tcp_established_idle_timeout_sec":1200,"tcp_transitory_idle_timeout_sec":30,"timeouts":null,"udp_idle_timeout_sec":30},"sensitive_values":{"log_config":[],"nat_ips":[],"subnetwork":[]}},{"address":"google_compute_subnetwork.private_subnet_1","mode":"managed","type":"google_compute_subnetwork","name":"private_subnet_1","provider_name":"registry.terraform.io/hashicorp/google-beta","schema_version":0,"values":{"description":null,"ip_cidr_range":"10.10.1.0/24","ipv6_access_type":null,"log_config":[],"name":"opalscopes-test-private-subnet-1","network":"opalscopes-test-vpc","private_ip_google_access":null,"purpose":"PRIVATE","region":"us-central1","role":null,"timeouts":null},"sensitive_values":{"log_config":[],"secondary_ip_range":[]}}]}},"resource_changes":[{"address":"google_compute_address.nat_ip","mode":"managed","type":"google_compute_address","name":"nat_ip","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"address_type":"EXTERNAL","description":null,"name":"opalscopes-test-nap-ip","network":null,"prefix_length":null,"project":"opalscopes","region":"us-central1","timeouts":null},"after_unknown":{"address":true,"creation_timestamp":true,"id":true,"network_tier":true,"purpose":true,"self_link":true,"subnetwork":true,"users":true},"before_sensitive":false,"after_sensitive":{"users":[]}}},{"address":"google_compute_firewall.allow-http","mode":"managed","type":"google_compute_firewall","name":"allow-http","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"allow":[{"ports":["80"],"protocol":"tcp"}],"deny":[],"description":null,"disabled":null,"log_config":[{"metadata":"EXCLUDE_ALL_METADATA"}],"name":"opalscopes-test-fw-allow-http","network":"opalscopes-test-vpc","priority":1000,"source_ranges":null,"source_service_accounts":null,"source_tags":["web"],"target_service_accounts":null,"target_tags":["http"],"timeouts":null},"after_unknown":{"allow":[{"ports":[false]}],"creation_timestamp":true,"deny":[],"destination_ranges":true,"direction":true,"enable_logging":true,"id":true,"log_config":[{}],"project":true,"self_link":true,"source_tags":[false],"target_tags":[false]},"before_sensitive":false,"after_sensitive":{"allow":[{"ports":[false]}],"deny":[],"destination_ranges":[],"log_config":[{}],"source_tags":[false],"target_tags":[false]}}},{"address":"google_compute_firewall.allow-https","mode":"managed","type":"google_compute_firewall","name":"allow-https","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"allow":[{"ports":["443"],"protocol":"tcp"}],"deny":[],"description":null,"disabled":null,"log_config":[{"metadata":"EXCLUDE_ALL_METADATA"}],"name":"opalscopes-test-fw-allow-https","network":"opalscopes-test-vpc","priority":1000,"source_ranges":null,"source_service_accounts":null,"source_tags":["web"],"target_service_accounts":null,"target_tags":["https"],"timeouts":null},"after_unknown":{"allow":[{"ports":[false]}],"creation_timestamp":true,"deny":[],"destination_ranges":true,"direction":true,"enable_logging":true,"id":true,"log_config":[{}],"project":true,"self_link":true,"source_tags":[false],"target_tags":[false]},"before_sensitive":false,"after_sensitive":{"allow":[{"ports":[false]}],"deny":[],"destination_ranges":[],"log_config":[{}],"source_tags":[false],"target_tags":[false]}}},{"address":"google_compute_firewall.allow-internal","mode":"managed","type":"google_compute_firewall","name":"allow-internal","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"allow":[{"ports":["0-65535"],"protocol":"tcp"},{"ports":["0-65535"],"protocol":"udp"},{"ports":[],"protocol":"icmp"}],"deny":[],"description":null,"disabled":null,"log_config":[],"name":"opalscopes-test-fw-allow-internal","network":"opalscopes-test-vpc","priority":1000,"source_ranges":["10.10.1.0/24"],"source_service_accounts":null,"source_tags":null,"target_service_accounts":null,"target_tags":null,"timeouts":null},"after_unknown":{"allow":[{"ports":[false]},{"ports":[false]},{"ports":[]}],"creation_timestamp":true,"deny":[],"destination_ranges":true,"direction":true,"enable_logging":true,"id":true,"log_config":[],"project":true,"self_link":true,"source_ranges":[false]},"before_sensitive":false,"after_sensitive":{"allow":[{"ports":[false]},{"ports":[false]},{"ports":[]}],"deny":[],"destination_ranges":[],"log_config":[],"source_ranges":[false]}}},{"address":"google_compute_firewall.allow-rdp","mode":"managed","type":"google_compute_firewall","name":"allow-rdp","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"allow":[{"ports":["3389"],"protocol":"tcp"}],"deny":[],"description":null,"disabled":null,"log_config":[{"metadata":"EXCLUDE_ALL_METADATA"}],"name":"opalscopes-test-fw-allow-rdp","network":"opalscopes-test-vpc","priority":1000,"source_ranges":null,"source_service_accounts":null,"source_tags":["web"],"target_service_accounts":null,"target_tags":["rdp"],"timeouts":null},"after_unknown":{"allow":[{"ports":[false]}],"creation_timestamp":true,"deny":[],"destination_ranges":true,"direction":true,"enable_logging":true,"id":true,"log_config":[{}],"project":true,"self_link":true,"source_tags":[false],"target_tags":[false]},"before_sensitive":false,"after_sensitive":{"allow":[{"ports":[false]}],"deny":[],"destination_ranges":[],"log_config":[{}],"source_tags":[false],"target_tags":[false]}}},{"address":"google_compute_firewall.allow-ssh","mode":"managed","type":"google_compute_firewall","name":"allow-ssh","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"allow":[{"ports":["22"],"protocol":"tcp"}],"deny":[],"description":null,"disabled":null,"log_config":[{"metadata":"EXCLUDE_ALL_METADATA"}],"name":"opalscopes-test-fw-allow-ssh","network":"opalscopes-test-vpc","priority":1000,"source_ranges":null,"source_service_accounts":null,"source_tags":["web"],"target_service_accounts":null,"target_tags":["ssh"],"timeouts":null},"after_unknown":{"allow":[{"ports":[false]}],"creation_timestamp":true,"deny":[],"destination_ranges":true,"direction":true,"enable_logging":true,"id":true,"log_config":[{}],"project":true,"self_link":true,"source_tags":[false],"target_tags":[false]},"before_sensitive":false,"after_sensitive":{"allow":[{"ports":[false]}],"deny":[],"destination_ranges":[],"log_config":[{}],"source_tags":[false],"target_tags":[false]}}},{"address":"google_compute_network.vpc","mode":"managed","type":"google_compute_network","name":"vpc","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"auto_create_subnetworks":false,"delete_default_routes_on_create":false,"description":null,"enable_ula_internal_ipv6":null,"name":"opalscopes-test-vpc","routing_mode":"GLOBAL","timeouts":null},"after_unknown":{"gateway_ipv4":true,"id":true,"internal_ipv6_range":true,"mtu":true,"project":true,"self_link":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"google_compute_router.nat-router","mode":"managed","type":"google_compute_router","name":"nat-router","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"bgp":[],"description":null,"encrypted_interconnect_router":null,"name":"opalscopes-test-nat-router","network":"opalscopes-test-vpc","timeouts":null},"after_unknown":{"bgp":[],"creation_timestamp":true,"id":true,"project":true,"region":true,"self_link":true},"before_sensitive":false,"after_sensitive":{"bgp":[]}}},{"address":"google_compute_router_nat.nat-gateway","mode":"managed","type":"google_compute_router_nat","name":"nat-gateway","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"drain_nat_ips":null,"enable_endpoint_independent_mapping":true,"icmp_idle_timeout_sec":30,"log_config":[],"max_ports_per_vm":null,"min_ports_per_vm":null,"name":"opalscopes-nat-gateway","nat_ip_allocate_option":"MANUAL_ONLY","router":"opalscopes-test-nat-router","source_subnetwork_ip_ranges_to_nat":"ALL_SUBNETWORKS_ALL_IP_RANGES","subnetwork":[],"tcp_established_idle_timeout_sec":1200,"tcp_transitory_idle_timeout_sec":30,"timeouts":null,"udp_idle_timeout_sec":30},"after_unknown":{"enable_dynamic_port_allocation":true,"id":true,"log_config":[],"nat_ips":true,"project":true,"region":true,"subnetwork":[]},"before_sensitive":false,"after_sensitive":{"log_config":[],"nat_ips":[],"subnetwork":[]}}},{"address":"google_compute_subnetwork.private_subnet_1","mode":"managed","type":"google_compute_subnetwork","name":"private_subnet_1","provider_name":"registry.terraform.io/hashicorp/google-beta","change":{"actions":["create"],"before":null,"after":{"description":null,"ip_cidr_range":"10.10.1.0/24","ipv6_access_type":null,"log_config":[],"name":"opalscopes-test-private-subnet-1","network":"opalscopes-test-vpc","private_ip_google_access":null,"purpose":"PRIVATE","region":"us-central1","role":null,"timeouts":null},"after_unknown":{"creation_timestamp":true,"external_ipv6_prefix":true,"fingerprint":true,"gateway_address":true,"id":true,"ipv6_cidr_range":true,"log_config":[],"private_ipv6_google_access":true,"project":true,"secondary_ip_range":true,"self_link":true,"stack_type":true},"before_sensitive":false,"after_sensitive":{"log_config":[],"secondary_ip_range":[]}}}],"output_changes":{"nat_ip_address":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false}},"configuration":{"provider_config":{"google":{"name":"google","full_name":"registry.terraform.io/hashicorp/google","expressions":{"credentials":{},"project":{"constant_value":"opalscopes"},"region":{"constant_value":"us-central1"},"zone":{"constant_value":"us-central1-c"}}},"google-beta":{"name":"google-beta","full_name":"registry.terraform.io/hashicorp/google-beta","expressions":{"credentials":{},"project":{"constant_value":"opalscopes"},"region":{"constant_value":"us-central1"},"zone":{"constant_value":"us-central1-c"}}}},"root_module":{"outputs":{"nat_ip_address":{"expression":{"references":["google_compute_address.nat_ip.address","google_compute_address.nat_ip"]}}},"resources":[{"address":"google_compute_address.nat_ip","mode":"managed","type":"google_compute_address","name":"nat_ip","provider_config_key":"google","expressions":{"name":{"constant_value":"opalscopes-test-nap-ip"},"project":{"constant_value":"opalscopes"},"region":{"constant_value":"us-central1"}},"schema_version":0},{"address":"google_compute_firewall.allow-http","mode":"managed","type":"google_compute_firewall","name":"allow-http","provider_config_key":"google","expressions":{"allow":[{"ports":{"constant_value":["80"]},"protocol":{"constant_value":"tcp"}}],"log_config":[{"metadata":{"constant_value":"EXCLUDE_ALL_METADATA"}}],"name":{"constant_value":"opalscopes-test-fw-allow-http"},"network":{"references":["google_compute_network.vpc.name","google_compute_network.vpc"]},"source_tags":{"constant_value":["web"]},"target_tags":{"constant_value":["http"]}},"schema_version":1},{"address":"google_compute_firewall.allow-https","mode":"managed","type":"google_compute_firewall","name":"allow-https","provider_config_key":"google","expressions":{"allow":[{"ports":{"constant_value":["443"]},"protocol":{"constant_value":"tcp"}}],"log_config":[{"metadata":{"constant_value":"EXCLUDE_ALL_METADATA"}}],"name":{"constant_value":"opalscopes-test-fw-allow-https"},"network":{"references":["google_compute_network.vpc.name","google_compute_network.vpc"]},"source_tags":{"constant_value":["web"]},"target_tags":{"constant_value":["https"]}},"schema_version":1},{"address":"google_compute_firewall.allow-internal","mode":"managed","type":"google_compute_firewall","name":"allow-internal","provider_config_key":"google","expressions":{"allow":[{"protocol":{"constant_value":"icmp"}},{"ports":{"constant_value":["0-65535"]},"protocol":{"constant_value":"tcp"}},{"ports":{"constant_value":["0-65535"]},"protocol":{"constant_value":"udp"}}],"name":{"constant_value":"opalscopes-test-fw-allow-internal"},"network":{"references":["google_compute_network.vpc.name","google_compute_network.vpc"]},"source_ranges":{"constant_value":["10.10.1.0/24"]}},"schema_version":1},{"address":"google_compute_firewall.allow-rdp","mode":"managed","type":"google_compute_firewall","name":"allow-rdp","provider_config_key":"google","expressions":{"allow":[{"ports":{"constant_value":["3389"]},"protocol":{"constant_value":"tcp"}}],"log_config":[{"metadata":{"constant_value":"EXCLUDE_ALL_METADATA"}}],"name":{"constant_value":"opalscopes-test-fw-allow-rdp"},"network":{"references":["google_compute_network.vpc.name","google_compute_network.vpc"]},"source_tags":{"constant_value":["web"]},"target_tags":{"constant_value":["rdp"]}},"schema_version":1},{"address":"google_compute_firewall.allow-ssh","mode":"managed","type":"google_compute_firewall","name":"allow-ssh","provider_config_key":"google","expressions":{"allow":[{"ports":{"constant_value":["22"]},"protocol":{"constant_value":"tcp"}}],"log_config":[{"metadata":{"constant_value":"EXCLUDE_ALL_METADATA"}}],"name":{"constant_value":"opalscopes-test-fw-allow-ssh"},"network":{"references":["google_compute_network.vpc.name","google_compute_network.vpc"]},"source_tags":{"constant_value":["web"]},"target_tags":{"constant_value":["ssh"]}},"schema_version":1},{"address":"google_compute_network.vpc","mode":"managed","type":"google_compute_network","name":"vpc","provider_config_key":"google","expressions":{"auto_create_subnetworks":{"constant_value":"false"},"name":{"constant_value":"opalscopes-test-vpc"},"routing_mode":{"constant_value":"GLOBAL"}},"schema_version":0},{"address":"google_compute_router.nat-router","mode":"managed","type":"google_compute_router","name":"nat-router","provider_config_key":"google","expressions":{"name":{"constant_value":"opalscopes-test-nat-router"},"network":{"references":["google_compute_network.vpc.name","google_compute_network.vpc"]}},"schema_version":0},{"address":"google_compute_router_nat.nat-gateway","mode":"managed","type":"google_compute_router_nat","name":"nat-gateway","provider_config_key":"google","expressions":{"name":{"constant_value":"opalscopes-nat-gateway"},"nat_ip_allocate_option":{"constant_value":"MANUAL_ONLY"},"nat_ips":{"references":["google_compute_address.nat_ip.self_link","google_compute_address.nat_ip"]},"router":{"references":["google_compute_router.nat-router.name","google_compute_router.nat-router"]},"source_subnetwork_ip_ranges_to_nat":{"constant_value":"ALL_SUBNETWORKS_ALL_IP_RANGES"}},"schema_version":0,"depends_on":["google_compute_address.nat_ip"]},{"address":"google_compute_subnetwork.private_subnet_1","mode":"managed","type":"google_compute_subnetwork","name":"private_subnet_1","provider_config_key":"google-beta","expressions":{"ip_cidr_range":{"constant_value":"10.10.1.0/24"},"name":{"constant_value":"opalscopes-test-private-subnet-1"},"network":{"references":["google_compute_network.vpc.name","google_compute_network.vpc"]},"purpose":{"constant_value":"PRIVATE"},"region":{"constant_value":"us-central1"}},"schema_version":0}]}},"relevant_attributes":[{"resource":"google_compute_router.nat-router","attribute":["name"]},{"resource":"google_compute_address.nat_ip","attribute":["self_link"]},{"resource":"google_compute_address.nat_ip","attribute":["address"]},{"resource":"google_compute_network.vpc","attribute":["name"]}]}
